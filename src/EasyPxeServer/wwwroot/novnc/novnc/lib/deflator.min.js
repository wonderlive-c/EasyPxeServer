/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/@novnc/novnc@1.6.0/lib/deflator.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _deflate2=require("../lib/vendor/pako/lib/zlib/deflate.js"),_zstream=_interopRequireDefault(require("../lib/vendor/pako/lib/zlib/zstream.js"));function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,_toPropertyKey(i.key),i)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _toPropertyKey(t){var e=_toPrimitive(t,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,e||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}var Deflator=exports.default=function(){return _createClass((function t(){_classCallCheck(this,t),this.strm=new _zstream.default,this.chunkSize=102400,this.outputBuffer=new Uint8Array(this.chunkSize),(0,_deflate2.deflateInit)(this.strm,_deflate2.Z_DEFAULT_COMPRESSION)}),[{key:"deflate",value:function(t){this.strm.input=t,this.strm.avail_in=this.strm.input.length,this.strm.next_in=0,this.strm.output=this.outputBuffer,this.strm.avail_out=this.chunkSize,this.strm.next_out=0;var e=(0,_deflate2.deflate)(this.strm,_deflate2.Z_FULL_FLUSH),r=new Uint8Array(this.strm.output.buffer,0,this.strm.next_out);if(e<0)throw new Error("zlib deflate failed");if(this.strm.avail_in>0){var i=[r],n=r.length;do{if(this.strm.output=new Uint8Array(this.chunkSize),this.strm.next_out=0,this.strm.avail_out=this.chunkSize,(e=(0,_deflate2.deflate)(this.strm,_deflate2.Z_FULL_FLUSH))<0)throw new Error("zlib deflate failed");var o=new Uint8Array(this.strm.output.buffer,0,this.strm.next_out);n+=o.length,i.push(o)}while(this.strm.avail_in>0);for(var s=new Uint8Array(n),a=0,u=0;u<i.length;u++)s.set(i[u],a),a+=i[u].length;r=s}return this.strm.input=null,this.strm.avail_in=0,this.strm.next_in=0,r}}])}();
//# sourceMappingURL=/sm/cb8e3730274831abdf78ff5d5301a3fb175d2752f3a318cede361db4131ce5ba.map