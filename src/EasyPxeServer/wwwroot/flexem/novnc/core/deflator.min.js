/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/@flexem/novnc@1.1.6/core/deflator.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{deflateInit,deflate}from"../vendor/pako/lib/zlib/deflate.js";import{Z_FULL_FLUSH}from"../vendor/pako/lib/zlib/deflate.js";import ZStream from"../vendor/pako/lib/zlib/zstream.js";export default class Deflator{constructor(){this.strm=new ZStream,this.chunkSize=102400,this.outputBuffer=new Uint8Array(this.chunkSize),this.windowBits=5,deflateInit(this.strm,this.windowBits)}deflate(t){this.strm.input=t,this.strm.avail_in=this.strm.input.length,this.strm.next_in=0,this.strm.output=this.outputBuffer,this.strm.avail_out=this.chunkSize,this.strm.next_out=0;let i=deflate(this.strm,Z_FULL_FLUSH),e=new Uint8Array(this.strm.output.buffer,0,this.strm.next_out);if(i<0)throw new Error("zlib deflate failed");if(this.strm.avail_in>0){let t=[e],s=e.length;do{if(this.strm.output=new Uint8Array(this.chunkSize),this.strm.next_out=0,this.strm.avail_out=this.chunkSize,i=deflate(this.strm,Z_FULL_FLUSH),i<0)throw new Error("zlib deflate failed");let e=new Uint8Array(this.strm.output.buffer,0,this.strm.next_out);s+=e.length,t.push(e)}while(this.strm.avail_in>0);let r=new Uint8Array(s),n=0;for(let i=0;i<t.length;i++)r.set(t[i],n),n+=t[i].length;e=r}return this.strm.input=null,this.strm.avail_in=0,this.strm.next_in=0,e}}
//# sourceMappingURL=/sm/1f44f05eced4fcd699cb35749d743e5a24d4fc65f97bdf9913053bf5e06c616e.map